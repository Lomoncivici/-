import json
import csv

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–∏ –∏–≥—Ä—ã –∏–∑ JSON —Ñ–∞–π–ª–∞
def load_game_data(filename):
    try:
        with open(filename, 'r') as file:
            data = json.load(file)
        return data
    except FileNotFoundError:
        return []

inventory = []

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º f-—Å—Ç—Ä–æ–∫
def print_story(text):
    print(f"~ {text} ~")

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–æ—è —Å –¥—Ä–∞–∫–æ–Ω–æ–º
def dragon_battle():
    print_story("–í—ã –≤—Å—Ç—É–ø–∏–ª–∏ –≤ –±–æ–π —Å –¥—Ä–∞–∫–æ–Ω–æ–º!")
    if "–æ–±–º—É–Ω–¥–∏—Ä–æ–≤–∞–Ω–∏–µ" in inventory:
        print_story("–° –º–µ—á–æ–º –≤ —Ä—É–∫–∞—Ö –∏ –≤ –ª–∞—Ç–∞—Ö –≤–∞–º –Ω–∏—á–µ–≥–æ –Ω–µ —Å—Ç—Ä–∞—à–Ω–æ !")
        print_story("–í—ã –ø–æ–±–µ–∂–∞–ª–∏ –≤ –±–æ–π.")
        print_story("–î—Ä–∞–∫–æ–Ω –∏–∑–∂–∞—Ä–∏–ª –≤–∞—Å –∫–∞–∫ –∫—É—Ä—É –≥—Ä–∏–ª—å!")
        print_story("–°–µ—Ä—å—ë–∑–Ω–æ, –ø–æ–π—Ç–∏ –Ω–∞ –æ–≥–Ω–µ–¥—ã—à–µ—â—É—é —è—â–µ—Ä–µ—Ü—É –ø–µ—Ä–µ—Ä–æ—Å—Ç–∫–∞ –≤ –∂–µ–ª–µ–∑–Ω–æ–π —Å–∫–æ–≤–æ—Ä–æ–¥–∫–µ –∏ –≤–∏–ª–∫–æ–π –≤ —Ä—É–∫–∞—Ö ?")
        exit()
    if "–º—è—Ç–Ω—ã–π –±–∞–±–ª–≥–∞–º –∏ —Ü–∏—Å—Ç–µ—Ä–Ω–∞ –≤–æ–¥—ã" in inventory:
        print_story("–£ —Ç–µ–±—è –Ω–µ—Ç –º–µ—á–∞ –∏ –ª–∞—Ç, –Ω–æ –µ—Å—Ç—å –±–∞–±–ª –≥–∞–º –∏ —Ü–∏—Å—Ç–µ—Ä–Ω–∞ –≤–æ–¥—ã –±–ª–∏–Ω.")
        print_story("–û–Ω —Ä–∏–Ω—É–ª—Å—è. –ò –ø—Ä–æ–±–µ–∂–∞–ª –º–∏–º–æ!")
        print_story("–ù–µ –∑–Ω–∞—é –∫–∞–∫ —Ç—ã —É–∑–Ω–∞–ª–∏, –Ω–æ —É –¥—Ä–∞–∫–æ–Ω–∞ –∏–∑–∂–æ–≥–∞.")
        print_story("–û–Ω —Ä–∞–∑–æ—Ä–≤–∞–ª –±–æ—á–∫—É —Å –≤–æ–¥–æ–π –∏ –∑–∞–µ–ª –º—è—Ç–Ω—ã–º –±–∞–±–ª –≥–∞–º–∞–º.")
        print_story("–¢–´ —Å–ø–∞—Å –µ–≥–æ –æ—Ç —É–∂–∞—Å–Ω—ã—Ö –º—É–∫.")
        print_story("–¢—ã –≥–µ—Ä–æ–π!.")
        print_story("–î—Ä–∞–∫–æ–Ω –∑–∞–∫–ª—é—á–∏–ª —Å —Ç–æ–±–æ–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç –Ω–∞ 3 –≥–æ–¥–∞ –ø–æ –ø–∞—Å—Ç–∞–≤–∫–µ –≤–æ–¥—ã –∏ –º—è—Ç–Ω–æ–≥–æ –±–∞–±–ª –≥–∞–º–∞.")
        print_story("–¢–µ–ø–µ—Ä—å —Ç—ã –µ—â—ë –∏ –º–∏–ª–∏–æ–Ω–µ—Ä! –õ–∞–¥–Ω–æ –ø—Ä–∏–∑–Ω–∞—é –±—ã–ª –Ω–µ –ø—Ä–∞–≤ –∏–∑–≤–∏–Ω–∏.")
        exit()
    if "0" in inventory:
        print_story("–£ –≤–∞—Å –Ω–∏—á–µ–≥–æ –Ω–µ—Ç.")
        print_story("–î—Ä–∞–∫–æ–Ω —Ä–µ—à–∏–ª –Ω–µ —É–±–∏–≤–∞—Ç—å –≤–∞—Å.")
        print_story("–û–Ω –≤–∞—Å —Å–æ–∂—Ä–∞–ª.")
        exit()

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤—ã–±–æ—Ä–∞ –∏–≥—Ä–æ–∫–∞
def make_choice(choices):
    print("–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:")
    for index, choice in enumerate(choices, start=1):
        print(f"{index}. {choice}")
    while True:
        try:
            choice = int(input("–í–∞—à –≤—ã–±–æ—Ä: "))
            if 0 != choice <= len(choices):
                return choice
            else:
                print("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä –≤—ã–±–æ—Ä–∞.")
        except ValueError:
            print("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ.")

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON
def save_game_data(data, filename):
    with open(filename, 'w') as file:
        json.dump(data, file)

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–ø–∏—Å–∏ –¥–∞–Ω–Ω—ã—Ö –≤ CSV —Ñ–∞–π–ª
def write_to_csv(data, filename):
    with open(filename, mode='w', newline='') as file:
        writer = csv.writer(file)
        writer.writerow(["Name", "Inventory"])

        for entry in data:
            writer.writerow([entry["name"], ", ".join(entry["inventory"])])

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å—é–∂–µ—Ç–∞ –∏–≥—Ä—ã
def main_story():
    data_filename = "game_data.json"
    game_data = load_game_data(data_filename)
    print_story("–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –º–∏—Ä –≤–æ–ª—à–µ–±—Å—Ç–≤–∞!")
    print_story(f"–í—ã - –º–æ–ª–æ–¥–æ–π –≥–µ—Ä–æ–π. –í–∞–º –ø—Ä–µ–¥—Å—Ç–æ–∏—Ç —Å–ø–∞—Å—Ç–∏ –∫–æ—Ä–æ–ª–µ–≤—Å—Ç–≤–æ –æ—Ç –¥—Ä–∞–∫–æ–Ω–∞.")

    choice1 = make_choice(["–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø—É—Ç—å –≤ –ª–µ—Å.", "–ò–¥—Ç–∏ –∫ –≥–æ—Ä–∞–º."])

    if choice1 == 1:
        print_story("–í—ã –æ—Ç–ø—Ä–∞–≤–∏–ª–∏—Å—å –≤ –ª–µ—Å –∏ –≤—Å—Ç—Ä–µ—Ç–∏–ª–∏ —Ñ–µ—é.")
        print_story("–§–µ–∏ —ç—Ç–æ —É—á–µ–Ω—å –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–µ, –Ω–æ —Å—Ç–∏—Å–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—É—â–µ—Å—Ç–≤–∞.")
    else:
        print_story("–í—ã –Ω–∞–ø—Ä–∞–≤–∏–ª–∏—Å—å –∫ –≥–æ—Ä–∞–º, –Ω–æ –Ω–∞ –ø—É—Ç–∏ –≤–∞—Å –∞—Ç–∞–∫–æ–≤–∞–ª –¥—Ä–∞–∫–æ–Ω.")
        inventory.append("0")
        dragon_battle()
    
    choice2 = make_choice(["–ü–æ–π–º–∞—Ç—å —Ñ–µ—é.", "–ü–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –Ω–µ–π."])

    if choice2 == 1:
        print_story("–í—ã –ø–æ–ø—ã—Ç–∞–ª–∏—Å—å –ø–æ–π–º–∞—Ç—å —Ñ–µ—é.")
        print_story("–§–µ—è –≤–∞—Å —Å–æ–∂—Ä–∞–ª–∞. –•–æ—Ç—å —Ñ–µ–∏ –∏ –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–µ –Ω–æ –≥–æ—Ç–æ–≤—ã –ø–æ—Å—Ç–æ—è—Ç—å –∑–∞ —Å–µ–±—è!")
        exit()
    else:
        print_story("–í—ã –ø–æ–ø—ã—Ç–∞–ª–∏—Å—å –ü–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è.")
        print_story("–§–µ—è –æ–±–º–∞—Ç–µ—Ä–∏–ª–∞  –≤–∞—Å. –í—Å–µ –∑–Ω–∞—é—Ç —á—Ç–æ —Ç–æ–ª—å–∫–æ –æ—á–µ–Ω—å —Å—Ç—Ä–∞–Ω–Ω—ã–µ –ª—é–¥–∏ –∑–Ω–∞–∫–æ–º—è—Ç—Å—è —Å –º–∞–ª–µ–Ω—å–∫–∏–º–∏ –∏ –±–µ–∑–∑–∞—â–∏—Ç–Ω—ã–º–∏ –≤ –ª–µ—Å—É!")

    print_story("–í—ã –ø—Ä–æ–¥–æ–ª–∂–∏–ª–∏ —Å–≤–æ–π –ø—É—Ç—å —Å –º—ã—Å–ª—è–º–∏ –æ –≤–∞—à–µ–º –ø–æ—Å—Ç—É–ø–∫–µ.")
    print_story("–°–ø—É—Å—Ç—è –≤—Ä–µ–º—è –≤—ã –Ω–∞–±—Ä–µ–¥–∞–µ—Ç–µ –Ω–∞ –ª–∞–≥–µ—Ä. –°—É–¥—è –ø–æ –≤—Å–µ–º—É —ç—Ç–æ –±–∞–Ω–¥–∏—Ç—ã!")

    choice3 = make_choice(["–ë–µ–∂–∞—Ç—å.", "–ü–æ–ø—ã—Ç–∞—Ç—å—Å—è —Ä–∞–∑–¥–æ–±—ã—Ç—å –æ–±–º—É–Ω–¥–∏—Ä–æ–≤–∞–Ω–∏–µ."])

    if choice3 == 1:
        print_story("–í—ã –±–µ–∂–∞–ª–∏ –∫–∞–∫ –∏—Å–ø—É–≥–∞–Ω—ã–π –∑–∞—è—Ü, –∫—É–¥–∞ –≥–ª–∞–∑–∞ –≥–ª—è–¥—è—Ç.")
        print_story("–ü—Ä–æ–±–µ–∂–∞–≤ —Å–∫–æ–≤–∑—å –∫—É—Å—Ç—ã –≤—ã —Å—Ç–æ–ª–∫–Ω—É–ª–∏—Å—å —Å–æ —Å—Ç—Ä–∞–∂–Ω–∏–∫–æ–º –∫–æ—Ä–æ–ª–µ–≤—Å–∫–æ–π –æ—Ö—Ä–∞–Ω—ã.")
        print_story("–û–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —ç—Ç–æ –Ω–µ –±–∞–Ω–¥–∏—Ç—ã, –±—ã–ª–æ –±—ã –∑–∞–±–∞–≤–Ω–æ –µ—Å–ª–∏ –±—ã –≤—ã –∏—Ö –æ–±–æ–∫—Ä–∞–ª–∏.")
        print_story("–°—Ç—Ä–∞–∂–Ω–∏–∫ —Å–ø—Ä–æ—Å–∏–ª —á—Ç–æ –≤—ã —Ç—É—Ç –¥–µ–ª–∞–µ—Ç–µ!")

        choice3_1 = make_choice(["–ò–∑–≤–µ–Ω–∏—Ç–∏ —è —Ç—É—Ç –º–∏–º–æ –ø—Ä–æ—Ö–æ–¥–∏–ª, —è —É–∂–µ —É—Ö–æ–∂—É.", "–ó–¥—Ä–∞—Å—Ç–≤—É–π—Ç–µ —è –ø—É—Ç–Ω–∏–∫, –º–æ–π –ø—É—Ç—å –ª–µ–∂–∏—Ç –≤ –ú–æ—Å–∫–≤—É."])
        
        if choice3_1== 1:
            print_story("–°—Ç—Ä–∞–∂–∞ —ç—Ç–æ –æ–Ω!")
            print_story("–í–∞—Å –ø–æ–π–º–∞–ª–∏. –û–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ñ–µ—è –±—ã–ª–∞ —Å–∫—Ä—ã—Ç–º –∞–≥–µ–Ω—Ç–æ–º, –æ–Ω–∞ —Ä–∞—Å—Å–∫–∞–∑–∞–ª–∞ –≤—Å—ë –ø—Ä–æ –≤–∞—à–∏ –ø–æ—Ö–∞–±–Ω—ã–µ –¥–µ–ª–∞! ")
            print_story("–í–∞—Å –∫–∞–∑–Ω—è—Ç —á–µ—Ä–µ–∑ —Ç—Ä–æ–µ —Å—É—Ç–æ–∫.")
            exit()
        else:
            print_story("–í–∞—Å –ø—Ä–∏–≥–ª–∞—Å–∏–ª–∏ –∫ –∫–æ—Å—Ç—Ä—É .")
            print_story("–°—Ç—Ä–∞–∂–Ω–∏–∫ –æ–∫–∞–∑–∞–ª—Å—è –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–∏–º —á–µ–ª–æ–≤–µ–∫–æ–º, –æ–Ω –¥–æ–≥–æ–≤–æ—Ä–∏–ª—Å—è —Å –ø—Ä–∏–Ω—Ü–µ—Å—Å–æ–π.")
            print_story("–í–∞—Å –ø–æ–¥–≤–µ–∑—É—Ç! –ß–µ—Ä–µ–∑ –¥–≤–æ–µ —Å—É—Ç–æ–∫ –≤—ã –±—É–¥–µ—Ç–µ –≤ –ú–æ—Å–∫–≤–µ.")
    else:
        print_story("–í—ã –ø–æ–ø—ã—Ç–∞–ª–∏—Å—å —É–∫—Ä–∞—Å—Ç—å —É–∫—Ä–∞–¥–µ–Ω–æ–µ.")
        print_story("–î–∞ –≤—ã –≥–µ—Ä–æ–π! –ù–µ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –º–æ–∂–Ω–æ –Ω–∞–∫–∞–∑–∞—Ç—å —Ç–µ—Ö –∫—Ç–æ —Å–æ–≤–µ—Ä—à–∞–µ—Ç –∑–ª–æ")
        print_story("–í—ã —Å–ø—Ä—è—Ç–∞–ª–∏—Å—å –≤ –∫—É—Å—Ç–∞—Ö –≤—ã–∂–µ–¥–∞—è –º–æ–º–µ–Ω—Ç.")
        print_story("–ò –≤–æ—Ç —É –≤–∞—Å –≤ —Ä—É–∫–∞—Ö –ª–∞—Ç—ã –∏ –º–µ—á—å! –û –ù–ï–¢, –ù–ï–¢, –ù–ï–¢")
        print_story("–í—ã –∑–∞–º–µ—Ç–∏–ª–∏ —á—Ç–æ –Ω–∞ –ª–∞—Ç–∞—Ö –≤—ã–≥—Ä–æ–≤–µ—Ä–æ–≤–∞–Ω–∞ –∫–æ—Ä–æ–ª–µ–≤—Å–∫–∞—è —ç–º–±–ª–µ–º–∞.")
        print_story("–¢–æ–ª—å–∫–æ —Å–µ–π—á–∞—Å –≤—ã –∑–∞–º–µ—Ç–∏–ª–∏ —á—Ç–æ —ç—Ç–æ –Ω–µ –±–∞–Ω–¥–∏—Ç—ã, –∞ –∫–æ—Ä–æ–ª–µ–≤—Å–∫–∞—è —Å—Ç—Ä–∞–∂–∞!")
        print_story("–í–∞–º –ø****—Ü. –°—Ç—Ä–∞–∂–∞ –∑–∞–º–µ—Ç–∏–ª–∞ –≤–∞—Å üëÅ. –û–Ω–∏ –±–µ–≥—É—Ç –ø–æ –≤–∞—à—É –¥—É—à—É, –∞, –Ω–µ,\n –æ–Ω–∏ —Å–ª–∏—à–∫–æ–º –º–µ–¥–ª–µ–Ω–Ω—ã–µ —á—Ç–æ–±—ã –¥–æ–≥–Ω–∞—Ç—å –≤–∞—Å.")
        print_story("–í—ã —Ä–µ—à–∞–µ—Ç–µ—Å—å —É–≥–Ω–∞—Ç—å –∫–∞—Ä–µ—Ç—É, –Ω–æ –≤—ã –Ω–µ –∑–Ω–∞–µ—Ç–µ –∫–∞–∫ —É–ø—Ä–∞–≤–ª—è—Ç—å –µ—é.")
        print_story("–ü–æ —ç—Ç–æ–º—É –≤—ã –ø—Ä–æ—Å—Ç–æ —É–¥–∞—Ä–∏–ª–∏ –ª–æ—à–∞–¥—å. –û –±–æ–∂–µ —ç—Ç–æ –ø–æ–º–æ–≥–ª–æ!")
        print_story("–í—ã —Å–º–æ–≥–ª–∏ —Å–±–µ–∂–∞—Ç—å. –°–ø—É—Å—Ç—è –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –≤—ã —Å–ª—ã—à–∏—Ç–µ –≥–æ–ª–æ—Å –∏–∑ –∫–∞—Ä–µ—Ç—ã.")

        choice3_2 = make_choice(["–û—Ç–∫—Ä—ã—Ç—å –∫–∞—Ä–µ—Ç—É.", "–°–æ–π—Ç–∏ –≤–Ω–∏–∑ –∏ –ø–Ω—É—Ç—å –ª–æ—à–∞–¥—å."])
        if choice3_2 == 1:
            print_story("–í—ã —Ä–µ—à–∞–µ—Ç–µ—Å—å –æ—Ç–∫—Ä—ã—Ç—å –∫–∞—Ä–µ—Ç—É.")
            print_story("–ö–æ–≥–¥–∞ –≤—ã –æ—Ç–∫—Ä—ã–ª–∏ –∫–æ—Ä–µ—Ç—É –Ω–∞ –≤–∞—Å –≤—ã—Å–∫–∞—á–µ–ª–∞ –ø—Ä–∏–Ω—Ü–µ—Å—Å–∞,\n –¥–æ—Å—Ç–∞–ª–∞ –ø–∏—Å—Ç–æ–ª–µ—Ç –∏ –∑–∞—Å—Ç—Ä–µ–ª–∏–ª–∞ –≤–∞—Å.")
            print_story("–í—ã –º–µ—Ä—Ç–≤—ã!. –ü–µ—Ä–≤–æ–µ –ø—Ä–∞–≤–∏–ª–æ –ª–µ—Å–∞: –Ω–µ –≥–æ–≤–æ—Ä–∏ –æ –ª–µ—Å–µ,\n –≤—Ç–æ—Ä–æ–µ –ø—Ä–∞–≤–∏–ª–æ –ª–µ—Å–∞: –Ω–µ –æ–±—â–∞–π—Å—è —Å –±–µ–ª–∫–∞–º–∏,\n —Ç—Ä–µ—Ç—å–µ –ø—Ä–∞–≤–∏–ª–æ –ª–µ—Å–∞: –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —É–≥–æ–Ω—è–π —á–µ—Ä—Ç–æ–≤—ã –∫–∞—Ä–µ—Ç—ã —Å –ø—Ä–∏–Ω—Ü–µ—Å—Å–∞–º–∏!")
            exit()
        else:
            print_story("–í—ã —Ä–µ—à–∏–ª–∏ –∏–∑–±–∞–≤–∏—Ç—Å—è –æ—Ç —É–ª–∏–∫.")
            print_story("–†–∞—Å—á–∏—Ç–∞–≤ —Å–∏–ª—É —É–¥–∞—Ä–∞ –∏ —Ç—Ä–∞–∏–∫—Ç–æ—Ä–∏—é –≤–∞—à–µ–π –Ω–æ–≥–∏ –≤—ã —É–¥–∞—Ä–∏–ª–∏ –ª–æ—à–∞–¥—å –ø–æ —Å–∞–º–æ–º—É –±–æ–ª—å–Ω–æ–º—É —á—Ç–æ —É –Ω–µ—ë –µ—Å—Ç—å, –ø–æ —Ö–≤–æ—Å—Ç—É.")
            print_story("–õ–æ—à–∞–¥—å –ª–µ–≥–Ω—É–ª–∞ –≤–∞—Å, –≤—ã —É–ø–∞–ª–∏ –∏ –æ—Ç–∫–ª—é—á–∏–ª–∏—Å—å.")
            print_story("–û—á–Ω—É–≤—à–∏—Å—å –≤—ã –±—ã–ª–∏ —Ä–∞–¥–æ–º —Å –ø—Ä–∏–Ω—Ü–µ—Å—Å–æ–π, –≤–∏–¥–µ–º–æ –æ–Ω–∞ —Ä–µ—à–∏–ª–∞ —á—Ç–æ –≤—ã –ø–æ–ø–∞–ª–∏ –ø–æ–¥—Ä—É–∫—É –¢–ê–ú–£ –°–ê–ú–û–ú–£ –ø—Ä–∏—Å—Ç—É–ø–Ω–∏–∫—É.")
            print_story("–§—É—Ö –≤–∞–º –ø–æ–≤–µ–∑–ª–æ. –°–∞–º–æ–µ —Å—Ç—Ä–∞—à–Ω–æ–µ –ø–æ–∑–∞–¥–∏.")
            print_story("–°–¢–†–ê–ñ–ê –û–ù –ó–î–ï–°–¨! –ê –Ω–µ—Ç –≤–∞—Å —Å–≤—è–∑–∞–ª–∏ –∏ –∏–∑–±–∏–ª–∏.")
            print_story("–í–∞—Å –∫–∞–∑–Ω–∏–ª–∏ –Ω–∞ –º–µ—Å—Ç–µ.")
            print_story("–í—ã —Ö–æ—Ä–æ—à–∏–π –≥–µ—Ä–æ–π, –ø—Ä–∞–≤–¥–∞ –ø–æ—Å–º–µ—Ä—Ç–Ω–æ.")
            exit()
    
    
    print_story("–í—ã –≤ –ú–æ—Å–∫–≤–µ.")
    choice4 = make_choice(["–ü–æ–π—Ç–∏ –Ω–∞ —Ä—ã–Ω–æ–∫.", "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø—É—Ç—å —Å –∫–æ—Ä–æ–ª–µ–≤—Å–∫–æ–π —Å—Ç—Ä–∞–∂–æ–π."])
    if choice4 == 1:
        print_story("–í—ã –ø–æ—à–ª–∏ –Ω–∞ —Ä—ã–Ω–æ–∫.")
        print_story("–ù–∞ –≤–∞—à—É —É–¥–∞—á—É –≤—ã –≤–µ—Å—å –ø—É—Ç—å –≤–µ—Å–µ–ª–∏–ª–∏ –ø—Ä–∏–Ω—Ü–µ—Å—É –∏ –≤—Å—é –∫–æ—Ä–æ–ª–µ–≤—Å–∫—é —Å—Ç—Ä–∞–∂—É.")
        print_story("–î–∞ –≤—ã –±—ã–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–º —à—É—Ç–æ–º –∏ –Ω–µ–ø–ª–æ—Ö–æ –∑–∞—Ä–∞–±–æ—Ç–∞–ª–∏.")
        inventory.append("100 —Ä—É–±–ª–µ–π")
        print_story("–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å —Ü–µ–ª—ã—Ö 100 —Ä—É–±–ª–µ–π!")
        print_story("–í—ã —Ä–µ—à–∏–ª–∏ —á—Ç–æ –ø–µ—Ä–µ–¥ –±–∏—Ç–≤–æ–π —Å –¥—Ä–∞–∫–æ–Ω –Ω—É–∂–Ω–æ –∫—É–ø–∏—Ç—å –æ–±–º—É–Ω–¥–∏—Ä–æ–≤–∞–Ω–∏–µ")

        choice4_1 = make_choice(["–∫—É–ø–∏—Ç—å –º–µ—á –∏ –ª–∞—Ç—ã.", "–ö—É–ø–∏—Ç—å —Ç—Ä–∏ –ø–∞—á–∫–∏ –º—è—Ç–Ω–æ–≥–æ –±–∞–±–ª–≥–∞–º–∞ –∏ —Ü–∏—Å—Ç–µ—Ä–Ω—É –≤–æ–¥—ã."])
        if choice4_1 == 1:
            print_story("–í—ã —Ä–µ—à–∏–ª–∏ –∫—É–ø–∏—Ç—å –º–µ—á—å –∏ –ª–∞—Ç—ã.")
            if "100 —Ä—É–±–ª–µ–π" in inventory:
                print_story("–£ –≤–∞—Å –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç —Ä—É–±–ª—è")
                print_story("–û–±–ª–∞–∑–∏–≤ –≤—Å–µ–≥–æ —Å–µ–±—è –≤—ã –Ω–µ –Ω–∞—à–ª–∏ —Ä—É–±–ª—å.")
                print_story("–ü—Ä–æ–¥–∞–≤–µ—Ü –ø—Ä–æ—Ç–∏–Ω—É–ª —Ä—É–∫—É –∫ –≤–∞—à–µ–º—É —É—Ö—É, –æ —á—É–¥–æ –æ–Ω –¥–æ—Å—Ç–∞–ª –∏–∑-–∑–∞ —É—Ö–∞ —Ä—É–±–ª—å.")
                print_story("–ò —Å–∫–∞–∑–∞–ª: –µ—Å–ª–∏ —É –≤–∞—Å –Ω–µ—Ç –¥–µ–Ω–µ–≥ —É—Ö–∞–¥–∏—Ç–µ, –Ω–µ –∑–∞–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ –æ—á–µ—Ä–µ–¥—å.")
                print_story("–í–æ—Ç —ç—Ç–æ –ø–æ–≤–æ—Ä–æ—Ç, –≤–∞—Å –æ–±–æ–∫—Ä–∞–ª–∏!")
                print_story("–ö—Ç–æ-—Ç–æ –ø—Ä–æ–∫—Ä–∏—á–∞–ª: –°–¢–†–ê–ñ–ê –û–ù –ó–î–ï–°–¨!")
                print_story("–û–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —ç—Ç–æ –Ω–µ —Ç–æ—Ä–≥–æ–≤–µ—Ü, –∞ —Ñ–æ–∫—É—Å–Ω–∏–∫-–≤–æ—Ä.")
                print_story("–í–∞–º –≤–µ—Ä–Ω—É–ª–∏ —Ä—É–±–ª—å.")
                print_story("–í—ã –∫—É–ø–∏–ª–∏ –ª–∞—Ç—ã –≤ –¥—Ä—É–≥–æ–º –º–µ—Å—Ç–µ —Å–æ —Å–∫–∏–¥–∫–æ–π %.")
                inventory.append("–æ–±–º—É–Ω–¥–∏—Ä–æ–≤–∞–Ω–∏–µ")


                print_story("–£ –≤–∞—Å –µ—Å—Ç—å –æ–±–º—É–Ω–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ü–µ–ª—ã—Ö 20 —Ä—É–±–ª–µ–π –Ω–∞ –¥–æ—Ä–æ–≥—É, –≤—ã –≤–µ–∑—É–Ω—á–∏–∫!")
                choice4_2 = make_choice(["–û—Ç–ø—Ä–∞–≤–∏—Ç—å—Å—è –≤ –ø—É—Ç—å –Ω–∞ –ª–æ—à–∞–¥–∏ –∑–∞ 20 —Ä—É–±–ª–µ–π.", "–û—Ç–ø—Ä–∞–≤–∏—Ç—å—Å—è –≤ –ø—É—Ç—å –ø–µ—à–∫–æ–º."])
                if choice4_2 == 1:
                    print_story("–í—ã –∞—Ä–µ–Ω–¥–æ–≤–∞–ª–∏ –ª–æ—à–∞–¥—å.")
                    print_story("—Å–ø—É—Å—Ç—è 2 –¥–Ω—è –≤—ã –≤–µ—Ä–Ω—É–ª–∏—Å—å –∫ –º–µ—Å—Ç—É –≥–¥–µ –≤—Å—ë –∏ –Ω–∞—á–∞–ª–æ—Å—å.")
                    print_story("–ù–µ–¥–æ–ª–≥–æ –¥—É–º–∞—è... –≤—ã —Ä–µ—à–∏–ª–∏ –æ—Ç–ø—É—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ —Ä–∞–Ω—ã –∏ –Ω–µ –∏—Å–∫–∞—Ç—å —Ñ–µ—é.")
                    print_story("–í—ã –æ—Ç–ø—Ä–∞–≤–∏–ª–∏—Å—å –≤ –≥–æ—Ä—ã.")
                    print_story("–ù–∞ –≤–∞—Å –Ω–∞–ø–∞–ª –¥—Ä–∞–∫–æ–Ω.")
                    dragon_battle()
                else:
                    print_story("–í—ã —Ä–µ—à–∏–ª–∏ –∏–¥—Ç–∏ –ø–µ—à–∫–æ–º.")
                    print_story("–í—ã –Ω–∞—Å—Ç–æ—è—à–∏–π —Å–∫—É–ø–æ–π —á–µ–ª–æ–≤–µ–∫. –ò —Ç–µ–ø–µ—Ä—å –≤—ã –∏–¥—ë—Ç–µ –ø–∏—à–∫–æ–º –≤ 40* –∂–∞—Ä—É –∏ –æ–±–º—É–Ω–¥–∏—Ä–æ–≤–∞–Ω–∏–∏ –≤–µ—Å–æ–º –≤ 50 –∫–≥")
                    print_story("–í—ã –ø–æ–º–µ—Ä–ª–∏ –∏–∑-–∑–∞ –∂–∞—Ä—ã –∏ –∏—Å—Ç–æ—â–µ–Ω–∏—è.")
                    exit()
        else:
            print_story("–í—ã —Ä–µ—à–∏–ª–∏ –∫—É–ø–∏—Ç—å –Ω–∞ –≤—Å–µ –¥–µ–Ω—å–≥–∏ —Ö–ª–∞–º")
            print_story("–ü–æ–∑–¥—Ä–∞–≤–ª—è—é —Ç—ã —Ç—Ä–∞–Ω–∂–∏—Ä–∞!")
            print_story("–ù—É –∑–∞—Ç–æ —É —Ç–µ–±—è –µ—Å—Ç—å –ø–æ–≤–æ–∑–∫–∞ —Å —Ü–∏—Å—Ç–µ—Ä–Ω–æ–π –∏ –±–∞–±–ª –≥–∞–º.")
            inventory.append("–º—è—Ç–Ω—ã–π –±–∞–±–ª–≥–∞–º –∏ —Ü–∏—Å—Ç–µ—Ä–Ω–∞ –≤–æ–¥—ã")
            print_story("–í—ã —Å—É–∏—Ü–∏–¥–Ω–∏–∫! –ò–±–æ —è –Ω–µ –∑–Ω–∞—é –∫–∞–∫ –≤—ã —Å —ç—Ç–∏–º –º–æ–∂–µ—Ç–µ –±–æ–±–µ–¥–∏—Ç—å –¥—Ä–∞–∫–æ–Ω–∞!")
            print_story("–£ —Ç–µ–±—è —Ç–µ–ø–µ—Ä—å —Ç–æ–ª–∫–æ –æ–¥–∏–Ω –≤—ã–±–æ—Ä!")
            choice4_3 = make_choice(["–ü–æ–π—Ç–∏ –Ω–∞ –¥—Ä–∞–∫–æ–Ω–∞.", "  "])
            if choice4_3 == 1:
                print_story("–ö—Ç–æ –±—ã —Å–æ–º–Ω–µ–≤–∞–ª—Å—è.")
                print_story("–¢—ã –≤–µ—Ä–Ω—É–ª—Å—è —Ç—É–¥–∞ –≥–¥–µ –≤—Å—ë –Ω–∞—á–∞–ª–æ—Å—å.")
                print_story("–¢–µ–±—è –∏–∑-–∑–∞ –¥–µ—Ä–µ–≤–∞ –ø–æ–¥–∫–∞—Ä–∞—É–ª–∏–ª –¥—Ä–∞–∫–æ–Ω.")
                print_story("–ù—É –≤—Å—ë –ø—Ä–æ—à–∞–π!")
                dragon_battle()
            else:
                print_story("–û–≥–æ, –∫–∞–∫ —Ç—ã, –ª–∞–¥–Ω–æ –∑–Ω–∞–µ—à—å, –Ω–µ –≤–∞–∂–Ω–æ! –¢—ã –≤—ã–∏–≥—Ä–∞–ª, –ø–æ–∑–¥—Ä–æ–≤–ª—è—é, —è —Ö—Ä–µ–Ω–æ–≤—ã–π –¥–∏–∫—Ç–æ—Ä!")
                print_story("–í—Å—ë —Ç—ã —Å–≤–æ–±–æ–¥–µ–Ω.")
                exit()
    else:
        print_story("–í—ã –ø–æ–Ω—Ä–∞–≤–∏–ª–∏—Å—å —Å—Ç—Ä–∞–∂–µ.")
        print_story("–¢–µ–ø–µ—Ä—å –≤—ã –∏—Ö —à—É—Ç, –Ω–æ —Å —Ö–æ—Ä–æ—à–µ–π –∑–∞—Ä–ø–ª–∞—Ç–æ–π!")
        print_story("–í—ã –Ω–µ –≥–µ—Ä–æ–π! –í—ã —à—É—Ç !")
        exit()

# –ó–∞–ø–∏—Å—å –¥–∞–Ω–Ω—ã—Ö –æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–∏ —Ç–µ–∫—É—â–µ–π –∏–≥—Ä—ã –≤ JSON
    game_data.append({"name": "–ò–º—è –∏–≥—Ä–æ–∫–∞", "inventory": inventory})
    save_game_data(game_data, data_filename)

# –ó–∞–ø–∏—Å—å –¥–∞–Ω–Ω—ã—Ö –æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–∏ —Ç–µ–∫—É—â–µ–π –∏–≥—Ä—ã –≤ CSV
    if game_data:
        write_to_csv(game_data, csv_filename)

 # –í—ã—Ö–æ–¥ –∏–∑ –∏–≥—Ä—ã
    print("–°–ø–∞—Å–∏–±–æ –∑–∞ –∏–≥—Ä—É!")

# –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã
if __name__ == "__main__":
    data_filename = "game_data.json"
    csv_filename = "game_results.csv"
    game_data = load_game_data(data_filename)

    main_story()

    # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ç–µ–∫—É—â–µ–π –∏–≥—Ä—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON
    save_game_data(game_data, data_filename)

    # –ó–∞–ø–∏—Å—å –¥–∞–Ω–Ω—ã—Ö —Ç–µ–∫—É—â–µ–π –∏–≥—Ä—ã –≤ CSV —Ñ–∞–π–ª
    if game_data:
        write_to_csv(game_data, csv_filename)

    # –í—ã—Ö–æ–¥ –∏–∑ –∏–≥—Ä—ã
    print("–°–ø–∞—Å–∏–±–æ –∑–∞ –∏–≥—Ä—É!")